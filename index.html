<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <title>Abd QR</title>
        <style>
            body {
                  font-family: sans-serif;
                        background-color: #f0f0f0;
                              color: #222;
                                    margin: 0;
                                          padding: 0;
                                                transition: background-color 0.3s, color 0.3s;
                                                    }
                                                        .dark-theme {
                                                              background-color: #121212;
                                                                    color: #fff;
                                                                        }

                                                                            header {
                                                                                  display: flex;
                                                                                        justify-content: space-between;
                                                                                              align-items: center;
                                                                                                    padding: 15px 20px;
                                                                                                          background-color: #007bff;
                                                                                                                color: #fff;
                                                                                                                    }
                                                                                                                        header h1 {
                                                                                                                              cursor: pointer;
                                                                                                                                    margin: 0;
                                                                                                                                          font-size: 22px;
                                                                                                                                              }

                                                                                                                                                  .toggle-container {
                                                                                                                                                        position: relative;
                                                                                                                                                            }
                                                                                                                                                                .switch {
                                                                                                                                                                      position: relative;
                                                                                                                                                                            display: inline-block;
                                                                                                                                                                                  width: 50px;
                                                                                                                                                                                        height: 26px;
                                                                                                                                                                                            }
                                                                                                                                                                                                .switch input {
                                                                                                                                                                                                      opacity: 0;
                                                                                                                                                                                                            width: 0;
                                                                                                                                                                                                                  height: 0;
                                                                                                                                                                                                                      }
                                                                                                                                                                                                                          .slider {
                                                                                                                                                                                                                                position: absolute;
                                                                                                                                                                                                                                      cursor: pointer;
                                                                                                                                                                                                                                            top: 0; left: 0;
                                                                                                                                                                                                                                                  right: 0; bottom: 0;
                                                                                                                                                                                                                                                        background-color: #ccc;
                                                                                                                                                                                                                                                              transition: 0.4s;
                                                                                                                                                                                                                                                                    border-radius: 30px;
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                            .slider:before {
                                                                                                                                                                                                                                                                                  position: absolute;
                                                                                                                                                                                                                                                                                        content: "";
                                                                                                                                                                                                                                                                                              height: 20px; width: 20px;
                                                                                                                                                                                                                                                                                                    left: 3px; bottom: 3px;
                                                                                                                                                                                                                                                                                                          background-color: white;
                                                                                                                                                                                                                                                                                                                transition: 0.4s;
                                                                                                                                                                                                                                                                                                                      border-radius: 50%;
                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                              input:checked + .slider {
                                                                                                                                                                                                                                                                                                                                    background-color: #2196F3;
                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                            input:checked + .slider:before {
                                                                                                                                                                                                                                                                                                                                                  transform: translateX(24px);
                                                                                                                                                                                                                                                                                                                                                      }

                                                                                                                                                                                                                                                                                                                                                          main {
                                                                                                                                                                                                                                                                                                                                                                max-width: 500px;
                                                                                                                                                                                                                                                                                                                                                                      margin: 40px auto;
                                                                                                                                                                                                                                                                                                                                                                            padding: 20px;
                                                                                                                                                                                                                                                                                                                                                                                  background: #fff;
                                                                                                                                                                                                                                                                                                                                                                                        border-radius: 10px;
                                                                                                                                                                                                                                                                                                                                                                                              box-shadow: 0 0 20px rgba(0,0,0,0.1);
                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                      .dark-theme main {
                                                                                                                                                                                                                                                                                                                                                                                                            background: #1e1e1e;
                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                    .input-group {
                                                                                                                                                                                                                                                                                                                                                                                                                          margin-bottom: 20px;
                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                                                                                  input[type="text"], input[type="color"] {
                                                                                                                                                                                                                                                                                                                                                                                                                                        width: 100%;
                                                                                                                                                                                                                                                                                                                                                                                                                                              padding: 10px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                    margin-top: 5px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                          font-size: 16px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                border: 1px solid #ccc;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                      border-radius: 6px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            box-sizing: border-box;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    button {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          padding: 10px 20px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                font-size: 16px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      margin-right: 10px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            margin-top: 10px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  border: none;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        background-color: #007bff;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              color: white;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    border-radius: 6px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          cursor: pointer;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                transition: 0.3s;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        button:hover {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              background-color: #0056b3;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      #qr-code {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            margin-top: 20px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  text-align: center;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          canvas {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                margin: 0 auto;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      display: block;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </style>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </head>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <header>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <h1 onclick="location.reload()">Abd QR</h1>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <div class="toggle-container">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <label class="switch">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <input type="checkbox" id="themeToggle">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="slider"></span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </label>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </header>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <main>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <div class="input-group">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <label for="qrText">Text or URL</label>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <input type="text" id="qrText" placeholder="Enter text or link" />
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <div class="input-group">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <label for="fgColor">Foreground Color</label>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <input type="color" id="fgColor" value="#000000" />
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <div class="input-group">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <label for="bgColor">Background Color</label>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <input type="color" id="bgColor" value="#ffffff" />
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      </div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <button onclick="generateQRCode()">Generate QR</button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <button onclick="downloadQR('png')">Download PNG</button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <button onclick="downloadQR('jpg')">Download JPG</button>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <div id="qr-code"></div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </main>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const themeToggle = document.getElementById("themeToggle");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const qrText = document.getElementById("qrText");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const fgColor = document.getElementById("fgColor");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            const bgColor = document.getElementById("bgColor");

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                // Load theme from storage
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    if (localStorage.getItem("theme") === "dark") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          document.body.classList.add("dark-theme");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                themeToggle.checked = true;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        themeToggle.addEventListener("change", () => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              const isDark = themeToggle.checked;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    document.body.classList.toggle("dark-theme", isDark);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          localStorage.setItem("theme", isDark ? "dark" : "light");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              });

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  function generateQRCode() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const qrContainer = document.getElementById("qr-code");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              qrContainer.innerHTML = "";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    new QRCode(qrContainer, {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            text: qrText.value,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    width: 256,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            height: 256,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    colorDark: fgColor.value,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            colorLight: bgColor.value,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    correctLevel: QRCode.CorrectLevel.H
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  function downloadQR(type) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const canvas = document.querySelector("#qr-code canvas");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              if (!canvas) return alert("Generate QR first!");

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const link = document.createElement("a");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          if (type === 'png') {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  link.href = canvas.toDataURL("image/png");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          link.download = "qr-code.png";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                } else if (type === 'jpg') {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const jpgCanvas = document.createElement("canvas");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                jpgCanvas.width = canvas.width;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        jpgCanvas.height = canvas.height;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const ctx = jpgCanvas.getContext("2d");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ctx.fillStyle = "#ffffff"; // white bg
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ctx.fillRect(0, 0, jpgCanvas.width, jpgCanvas.height);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ctx.drawImage(canvas, 0, 0);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                link.href = jpgCanvas.toDataURL("image/jpeg");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        link.download = "qr-code.jpg";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    link.click();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </html>